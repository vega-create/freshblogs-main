---
interface FAQItem {
  q: string;
  a: string;
}

interface Props {
  items: FAQItem[];
}

const { items } = Astro.props;

const schema = {
  '@context': 'https://schema.org',
  '@type': 'FAQPage',
  mainEntity: items.map((item) => ({
    '@type': 'Question',
    name: item.q,
    acceptedAnswer: {
      '@type': 'Answer',
      text: item.a,
    },
  })),
};
---

<section class="mt-12 mb-8" id="faq">
  <h2 class="text-2xl font-bold mb-6">Frequently Asked Questions</h2>
  <div class="space-y-4">
    {items.map((item) => (
      <details class="group bg-gray-50 rounded-lg p-4 cursor-pointer">
        <summary class="font-semibold text-gray-800 flex items-center justify-between">
          {item.q}
          <span class="ml-2 text-gray-400 group-open:rotate-180 transition-transform">â–¼</span>
        </summary>
        <p class="mt-3 text-gray-600 leading-relaxed">{item.a}</p>
      </details>
    ))}
  </div>
</section>

<script type="application/ld+json" set:html={JSON.stringify(schema)} />
